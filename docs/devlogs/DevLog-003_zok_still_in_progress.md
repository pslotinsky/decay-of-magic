# DevLog-003: Zok still in progress

| Field   | Value      |
| ------- | ---------- |
| Created | 2025-07-06 |

Дорогой дневничек, на прошлой неделе я в тебя ничего не писал. И ты, наверное, уже обрадовался, что я оставил тебя наконец-то в покое. Но нет. Просто мерзкие мирские дела отвлекали меня от возвышенного: написания игры и общения с тобой. С другой стороны, так как я имею возможность что-либо программировать для себя только по выходным, то, возможно, еженедельные записки в дневник — это и перебор. Но не спеши облегчённо вздыхать. Я всё ещё думаю над этим.

## Что произошло, пока мы не общались:

- Я во многом пересмотрел архитектуру Зока. Понял, что изначальные слои абстракции мною были выделены неверно. По окончании работы над Зоком планирую написать две статьи:
  - обновлённую статью по проектированию Зока, где опишу все изменения и расскажу, почему они были сделаны
  - `ARD` про `OOP (Orc-Oriented Programming)`, где расскажу про программирование через метафору и почему я сознательно нарушаю правило дяди Боба про избегание остроумия
- Куча документации в репозитории начала окупаться. Так как я могу заниматься игрой лишь урывками, контекст из головы стремительно выветривался. И то, что можно было прямо в репозитории открыть статью и прочитать, о чём я вообще думал, когда проектировал, оказалось суперполезно! Правда, пока что пригодились только статьи типа `Design`. Остальные, возможно, окажутся в конце концов просто бюрократическим мусором. А может, ещё и пригодятся. Но `Design` — прям кайф. Отдельное удовольствие, что он лежит в самом репозитории.
- Выработал для себя на текущий момент такой подход к тестам:
  - **Flow**, чтобы тестировать конкретные пользовательские истории. Формат и название ещё в процессе и, возможно, поменяются. Но что не должно поменяться — это то, что это сердце разработки. В них описаны все кейсы использования приложения. Они же их и тестируют, но это скорее побочный эффект, чем сама цель. А цель — писать приложение через написание тестов, продумывая по ходу его написания бизнес-логику и кейсы использования.
  - **Unit** максимально минималистичные и тупые. Просто проверить, что конкретный участок программы уже работает, пока ещё невозможно протестировать весь кейс целиком.
  - **Integration** чуть ли не более тупые, чем `Unit`. Просто проверить, что отдельные компоненты работают не только на моках, но и с реальной инфрой. Логика же приложения тестируется во `Flow` на моках.
  - **e2e** писать не хочу и не буду. Сочетания `Flow + Integration` должно хватить.
  - Отдельно хочу продекларировать, что у меня нет цели в 100% покрытии кода и тестов ради тестов. Меня очень раздражает формализм и механистичность таких подходов. Код должен быть живым и легким, а не напоминать бухгалтерскую отчетность.
